{"version":3,"sources":["Components/ImageGalleryItem/ImageGalleryItem.module.css","Components/Modal/Modal.module.css","Components/Loader/Spinner.module.css","Components/Button/Button.module.css","Components/ImageGallery/ImageGallery.module.css","Components/Seacrchbar/Searchbar.js","Components/Loader/Spinner.js","Components/Button/Button.js","Components/ImageGalleryItem/ImageGalleryItem.js","api/apiService.js","Components/Modal/Modal.js","Components/ImageGallery/ImageGallery.js","App.js","index.js","Components/Seacrchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","onSubmit","useState","value","setValue","className","s","SearchForm","event","preventDefault","trim","toast","error","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","target","Spinner","color","height","width","Component","Button","onClick","ImageGalleryItem","url","tags","modalUrl","src","alt","ImageGalleryItemImage","BASE","query","page","fetch","then","response","ok","json","Promise","reject","Error","modalRef","document","querySelector","Modal","closeModal","useEffect","window","addEventListener","onEscapePress","removeEventListener","code","createPortal","Overlay","currentTarget","Status","ImageGallery","pictures","setPictures","setError","status","setStatus","setPage","modalIsOpen","setModalIsOpen","setModalUrl","api","total","hits","catch","finally","toggleModal","map","picture","webformatURL","largeImageURL","id","result","length","scrollTo","top","documentElement","scrollHeight","behavior","warning","message","App","setQuery","position","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.67bebfaa.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__1GSDQ\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__3zaKZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__g-Dd_\",\"Modal\":\"Modal_Modal__2bahB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Spinner\":\"Spinner_Spinner__VyyQp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__1sugw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2IltA\"};","import { useState } from 'react';\nimport { toast } from 'react-toastify';\nimport PropTypes from 'prop-types';\nimport s from './Searchbar.module.css';\n\nfunction Searchbar({ onSubmit }) {\n  const [value, setValue] = useState('');\n\n  const handleInputChange = event => {\n    setValue(event.target.value);\n  };\n\n  const reset = () => {\n    setValue('');\n  };\n\n  const handleSubmit = event => {\n    event.preventDefault();\n\n    if (value.trim() === '') {\n      return toast.error('Enter query to search');\n    }\n    onSubmit(value);\n    reset();\n  };\n\n  return (\n    <header className={s.Searchbar}>\n      <form className={s.SearchForm} onSubmit={handleSubmit}>\n        <button type=\"submit\" className={s.SearchFormButton}>\n          <span className={s.SearchFormButtonLabel}>Search</span>\n        </button>\n\n        <input\n          className={s.SearchFormInput}\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n          value={value}\n          onChange={handleInputChange}\n        />\n      </form>\n    </header>\n  );\n}\n\nexport default Searchbar;\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n","import React, { Component } from 'react';\nimport Loader from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport s from './Spinner.module.css';\n\nexport default class Spinner extends Component {\n  //other logic\n  render() {\n    return (\n      <div className={s.Spinner}>\n        <Loader type=\"ThreeDots\" color=\"#3f51b5\" height={100} width={100} />\n      </div>\n    );\n  }\n}\n","import PropTypes from 'prop-types';\nimport s from './Button.module.css';\n\nconst Button = ({ onClick }) => {\n  return (\n    <button type=\"button\" className={s.Button} onClick={onClick}>\n      Load more\n    </button>\n  );\n};\n\nexport default Button;\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport s from './ImageGalleryItem.module.css';\n\nconst ImageGalleryItem = ({ url, tags, modalUrl, onClick }) => {\n  return (\n    <li className={s.ImageGalleryItem} onClick={() => onClick(modalUrl)}>\n      <img src={url} alt={tags} className={s.ImageGalleryItemImage} />\n    </li>\n  );\n};\n\nexport default ImageGalleryItem;\n\nImageGalleryItem.propTypes = {\n  url: PropTypes.string.isRequired,\n  tags: PropTypes.string,\n  modalUrl: PropTypes.string.isRequired,\n  onClick: PropTypes.func.isRequired,\n};\n","const BASE = {\n  URL: 'https://pixabay.com/api/',\n  KEY: '22353623-6201980fc547853fa44be7702',\n  PER_PAGE: 12,\n};\n\nconst getPicturesByQuery = (query, page) => {\n  return fetch(\n    `${BASE.URL}?q=${query}&page=${page}&key=${BASE.KEY}&image_type=photo&orientation=horizontal&per_page=${BASE.PER_PAGE}`,\n  ).then(response => {\n    if (response.ok) {\n      return response.json();\n    }\n    return Promise.reject(new Error(`Something went wrong...`));\n  });\n};\n\nexport default {\n  getPicturesByQuery,\n};\n","import { useEffect } from 'react';\nimport { createPortal } from 'react-dom';\nimport PropTypes from 'prop-types';\nimport s from './Modal.module.css';\n\nconst modalRef = document.querySelector('#modal-root');\n\nfunction Modal({ url, closeModal }) {\n  useEffect(() => {\n    window.addEventListener('keydown', onEscapePress);\n    return () => {\n      window.removeEventListener('keydown', onEscapePress);\n    };\n  });\n\n  const onEscapePress = event => {\n    if (event.code === 'Escape') {\n      closeModal();\n    }\n  };\n\n  const onOverlayClick = event => {\n    if (event.target === event.currentTarget) {\n      closeModal();\n    }\n  };\n\n  return createPortal(\n    <div className={s.Overlay} onClick={onOverlayClick}>\n      <div className={s.Modal}>\n        <img src={url} alt=\"\" />\n      </div>\n    </div>,\n    modalRef,\n  );\n}\n\nexport default Modal;\n\nModal.propTypes = {\n  url: PropTypes.string.isRequired,\n  closeModal: PropTypes.func.isRequired,\n};\n","import { useEffect, useState } from 'react';\nimport { toast } from 'react-toastify';\nimport PropTypes from 'prop-types';\nimport Spinner from '../Loader/Spinner';\nimport Button from '../Button/Button';\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\nimport api from '../../api/apiService';\nimport s from './ImageGallery.module.css';\nimport Modal from '../Modal/Modal';\n\nconst Status = {\n  IDLE: 'idle',\n  PENDING: 'pending',\n  RESOLVED: 'resolved',\n  REJECTED: 'rejected',\n};\n\nfunction ImageGallery({ query }) {\n  const [pictures, setPictures] = useState(null);\n  const [error, setError] = useState(null);\n  const [status, setStatus] = useState(Status.IDLE);\n  const [page, setPage] = useState(1);\n  const [modalIsOpen, setModalIsOpen] = useState(false);\n  const [modalUrl, setModalUrl] = useState('');\n\n  useEffect(() => {\n    if (!query) {\n      return;\n    }\n    setStatus(Status.PENDING);\n\n    api\n      .getPicturesByQuery(query, 1)\n      .then(pictures => {\n        if (pictures.total === 0) {\n          return toast.error(`No result for \"${query}\". Try another query`);\n        }\n        setPictures(pictures.hits);\n      })\n      .catch(error => {\n        setError(error);\n        setStatus(Status.REJECTED);\n      })\n      .finally(() => {\n        setStatus(Status.RESOLVED);\n        setPage(2);\n      });\n  }, [query]);\n\n  const getNextPagePictures = () => {\n    setStatus('pending');\n\n    api\n      .getPicturesByQuery(query, page)\n      .then(result => {\n        if (result.hits.length === 0) {\n          toast.warning(`No more pictures for \"${query}\" query`);\n          return;\n        }\n        setPictures(pictures => [...pictures, ...result.hits]);\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: 'smooth',\n        });\n      })\n      .catch(error => {\n        setError(error);\n        setStatus(Status.REJECTED);\n      })\n      .finally(() => {\n        setPage(page + 1);\n      });\n    setStatus(Status.RESOLVED);\n  };\n\n  const toggleModal = url => {\n    setModalIsOpen(!modalIsOpen);\n    setModalUrl(url);\n  };\n\n  if (status === Status.IDLE) {\n    return null;\n  }\n\n  if (status === Status.RESOLVED || status === Status.PENDING) {\n    return (\n      <>\n        <ul className={s.ImageGallery}>\n          {pictures &&\n            pictures.map(picture => (\n              <ImageGalleryItem\n                key={picture.id}\n                url={picture.webformatURL}\n                tags={picture.tags}\n                modalUrl={picture.largeImageURL}\n                onClick={toggleModal}\n              />\n            ))}\n        </ul>\n        {status === Status.PENDING && <Spinner />}\n        {pictures && <Button onClick={getNextPagePictures} />}\n\n        {modalIsOpen && <Modal closeModal={toggleModal} url={modalUrl} />}\n      </>\n    );\n  }\n\n  if (status === Status.REJECTED) {\n    return <h2>{error.message}</h2>;\n  }\n}\n\nexport default ImageGallery;\n\nImageGallery.propTypes = {\n  query: PropTypes.string.isRequired,\n};\n","import { useState } from 'react';\nimport { ToastContainer } from 'react-toastify';\nimport Searchbar from './Components/Seacrchbar/Searchbar';\nimport 'react-toastify/dist/ReactToastify.css';\nimport ImageGallery from './Components/ImageGallery/ImageGallery';\n\nfunction App() {\n  const [query, setQuery] = useState('');\n\n  const handleFormSubmit = query => {\n    setQuery(query);\n  };\n\n  return (\n    <div className=\"App\">\n      <Searchbar onSubmit={handleFormSubmit} />\n      <ImageGallery query={query} />\n      <ToastContainer position=\"top-center\" autoClose={3000} />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__2c4_N\",\"SearchForm\":\"Searchbar_SearchForm__2s8gL\",\"SearchFormButton\":\"Searchbar_SearchFormButton__9vKLD\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__2VvC-\",\"SearchFormInput\":\"Searchbar_SearchFormInput__12PQx\"};"],"sourceRoot":""}